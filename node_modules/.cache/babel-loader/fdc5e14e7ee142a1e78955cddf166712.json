{"ast":null,"code":"import _defineProperty from\"C:/Users/Manoj/empsmanage/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Manoj/empsmanage/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Manoj/empsmanage/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,Fragment}from\"react\";import firebase from\"../firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function useTimes(){var sortBy=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"TIME_ASC\";var _useState=useState([]),_useState2=_slicedToArray(_useState,2),times=_useState2[0],setTimes=_useState2[1];useEffect(function(){// unsubscribe callback when done\nvar unsubscribe=firebase.firestore().collection(\"times\")//.orderBy(SORT_OPTIONS[sortBy].column, SORT_OPTIONS[sortBy].direction)\n.onSnapshot(function(snapshot){var newTimes=snapshot.docs.map(function(doc){return _objectSpread({id:doc.id},doc.data());});setTimes(newTimes);});return function(){return unsubscribe();};},[sortBy]);return times;}var UserTableRow=function UserTableRow(props){var _useState3=useState(props.currentUser),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];useEffect(function(){setUser(props.currentUser);},[props]);var handleDeleteClick=function handleDeleteClick(id){firebase.firestore().collection(\"times\").doc(id).delete();};var handleUpdateItemClick=function handleUpdateItemClick(data){firebase.firestore().collection(\"times\").doc(data.id).set(data);props.setEditing(false);};var handleInputChange=function handleInputChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},name,value)));};return props.editing&&props.currentUser.id===props.userValue.id?/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:user.name,onChange:handleInputChange})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",value:user.email,onChange:handleInputChange})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phonenumber\",value:user.phonenumber,onChange:handleInputChange})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"salary\",value:user.salary,onChange:handleInputChange})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return props.setEditing(false);},class:\"btn btn-warning\",children:\"Cancel\"}),\"\\xA0 \\xA0\",/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return handleUpdateItemClick(user);},class:\"btn btn-info\",children:\"Update\"})]})]},props.userValue.id)}):/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:props.userValue.name}),/*#__PURE__*/_jsx(\"td\",{children:props.userValue.email}),/*#__PURE__*/_jsx(\"td\",{children:props.userValue.phonenumber}),/*#__PURE__*/_jsx(\"td\",{children:props.userValue.salary}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){props.editRow(props.userValue);},class:\"btn btn-success\",children:\"Edit\"}),\"\\xA0\\xA0\",/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return handleDeleteClick(props.userValue.id);},class:\"btn btn-danger\",children:\"Delete\"})]})]},props.userValue.id)});};export default UserTableRow;","map":{"version":3,"names":["React","useState","useEffect","Fragment","firebase","useTimes","sortBy","times","setTimes","unsubscribe","firestore","collection","onSnapshot","snapshot","newTimes","docs","map","doc","id","data","UserTableRow","props","currentUser","user","setUser","handleDeleteClick","delete","handleUpdateItemClick","set","setEditing","handleInputChange","event","target","name","value","editing","userValue","email","phonenumber","salary","editRow"],"sources":["C:/Users/Manoj/empsmanage/src/tables/UserTableRow.js"],"sourcesContent":["import React, { useState, useEffect, Fragment } from \"react\";\nimport firebase from \"../firebase\";\n\nfunction useTimes(sortBy = \"TIME_ASC\") {\n  const [times, setTimes] = useState([]);\n\n  useEffect(() => {\n    // unsubscribe callback when done\n    const unsubscribe = firebase\n      .firestore()\n      .collection(\"times\")\n      //.orderBy(SORT_OPTIONS[sortBy].column, SORT_OPTIONS[sortBy].direction)\n      .onSnapshot(snapshot => {\n        const newTimes = snapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        setTimes(newTimes);\n      });\n    return () => unsubscribe();\n  }, [sortBy]);\n\n  return times;\n}\n\nconst UserTableRow = props => {\n  const [user, setUser] = useState(props.currentUser);\n\n  useEffect(() => {\n    setUser(props.currentUser);\n  }, [props]);\n\n  const handleDeleteClick = id => {\n    firebase\n      .firestore()\n      .collection(\"times\")\n      .doc(id)\n      .delete();\n  };\n\n  const handleUpdateItemClick = data => {\n    firebase\n      .firestore()\n      .collection(\"times\")\n      .doc(data.id)\n      .set(data);\n    props.setEditing(false);\n  };\n\n  const handleInputChange = event => {\n    const { name, value } = event.target;\n    setUser({ ...user, [name]: value });\n  };\n\n  return props.editing && props.currentUser.id === props.userValue.id ? (\n    <Fragment>\n      <tr key={props.userValue.id}>\n        <td>\n          <input\n            type=\"text\"\n            name=\"name\"\n            value={user.name}\n            onChange={handleInputChange}\n          />\n        </td>\n        <td>\n          <input\n            type=\"text\"\n            name=\"email\"\n            value={user.email}\n            onChange={handleInputChange}\n          />\n        </td>\n        <td>\n          <input\n            type=\"text\"\n            name=\"phonenumber\"\n            value={user.phonenumber}\n            onChange={handleInputChange}\n          />\n        </td>\n        <td>\n          <input\n            type=\"text\"\n            name=\"salary\"\n            value={user.salary}\n            onChange={handleInputChange}\n          />\n        </td>\n        <td>\n          <button type=\"button\"\n            onClick={() => props.setEditing(false)}\n            class=\"btn btn-warning\"\n          >\n            Cancel\n          </button>&nbsp; &nbsp;\n          <button type=\"button\"\n            onClick={() => handleUpdateItemClick(user)}\n            class=\"btn btn-info\"\n          >\n            Update\n          </button>\n        </td>\n      </tr>\n    </Fragment>\n  ) : (\n    <Fragment>\n      <tr key={props.userValue.id}>\n        <td>{props.userValue.name}</td>\n        <td>{props.userValue.email}</td>\n        <td>{props.userValue.phonenumber}</td>\n        <td>{props.userValue.salary}</td>\n        <td>\n          <button type=\"button\"\n            onClick={() => {\n              props.editRow(props.userValue);\n            }}\n            class=\"btn btn-success\"\n          >\n            Edit\n          </button>&nbsp;&nbsp;\n          <button type=\"button\"\n            onClick={() => handleDeleteClick(props.userValue.id)}\n            class=\"btn btn-danger\"\n          >\n            Delete\n          </button>\n        </td>\n      </tr>\n    </Fragment>\n  );\n};\n\nexport default UserTableRow;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}