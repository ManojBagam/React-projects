{"ast":null,"code":"import _objectSpread from\"C:/Users/Manoj/empsmanage/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Manoj/empsmanage/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,Fragment}from\"react\";import firebase from\"../firebase\";import UserTableRow from\"./UserTableRow\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function useTimes(){var sortBy=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"TIME_ASC\";var _useState=useState([]),_useState2=_slicedToArray(_useState,2),times=_useState2[0],setTimes=_useState2[1];useEffect(function(){// unsubscribe callback when done\nvar unsubscribe=firebase.firestore().collection(\"times\")//.orderBy(SORT_OPTIONS[sortBy].column, SORT_OPTIONS[sortBy].direction)\n.onSnapshot(function(snapshot){var newTimes=snapshot.docs.map(function(doc){return _objectSpread({id:doc.id},doc.data());});setTimes(newTimes);});return function(){return unsubscribe();};},[sortBy]);return times;}var UserTable=function UserTable(props){var _useState3=useState(props.currentUser),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var times=useTimes();return/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Salary\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:props.users.length>0?times.map(function(userValue){return/*#__PURE__*/_jsx(UserTableRow,{userValue:userValue,users:props.users,editing:props.editing,setEditing:props.setEditing,currentUser:props.currentUser,updateUser:props.updateUser,editRow:props.editRow,deleteUser:props.deleteUser},userValue.id);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:3,children:\"No users\"})})})]});};export default UserTable;","map":{"version":3,"names":["React","useState","useEffect","Fragment","firebase","UserTableRow","useTimes","sortBy","times","setTimes","unsubscribe","firestore","collection","onSnapshot","snapshot","newTimes","docs","map","doc","id","data","UserTable","props","currentUser","user","setUser","users","length","userValue","editing","setEditing","updateUser","editRow","deleteUser"],"sources":["C:/Users/Manoj/empsmanage/src/tables/UserTable.js"],"sourcesContent":["import React, { useState, useEffect, Fragment } from \"react\";\nimport firebase from \"../firebase\";\nimport UserTableRow from \"./UserTableRow\";\n\nfunction useTimes(sortBy = \"TIME_ASC\") {\n  const [times, setTimes] = useState([]);\n\n  useEffect(() => {\n    // unsubscribe callback when done\n    const unsubscribe = firebase\n      .firestore()\n      .collection(\"times\")\n      //.orderBy(SORT_OPTIONS[sortBy].column, SORT_OPTIONS[sortBy].direction)\n      .onSnapshot(snapshot => {\n        const newTimes = snapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        setTimes(newTimes);\n      });\n    return () => unsubscribe();\n  }, [sortBy]);\n\n  return times;\n}\n\nconst UserTable = props => {\n  const [user, setUser] = useState(props.currentUser);\n  const times = useTimes();\n\n  return (\n    <table className=\"table table-bordered\">\n      <thead className=\"thead-dark\">\n        <tr>\n          <th>Name</th>\n          <th>Email</th>\n          <th>Phone Number</th>\n          <th>Salary</th>\n          <th>Actions</th>\n          \n        </tr>\n      </thead>\n      <tbody>\n        {props.users.length > 0 ? (\n          times.map(userValue => (\n            <UserTableRow\n              key={userValue.id}\n              userValue={userValue}\n              users={props.users}\n              editing={props.editing}\n              setEditing={props.setEditing}\n              currentUser={props.currentUser}\n              updateUser={props.updateUser}\n              editRow={props.editRow}\n              deleteUser={props.deleteUser}\n            />\n          ))\n        ) : (\n          <tr>\n            <td colSpan={3}>No users</td>\n          </tr>\n        )}\n      </tbody>\n    </table>\n  );\n};\n\nexport default UserTable;\n"],"mappings":"6NAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,QAArC,KAAqD,OAArD,CACA,MAAOC,SAAP,KAAqB,aAArB,CACA,MAAOC,aAAP,KAAyB,gBAAzB,C,wFAEA,QAASC,SAAT,EAAuC,IAArBC,OAAqB,2DAAZ,UAAY,CACrC,cAA0BN,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eAEAP,SAAS,CAAC,UAAM,CACd;AACA,GAAMQ,YAAW,CAAGN,QAAQ,CACzBO,SADiB,GAEjBC,UAFiB,CAEN,OAFM,CAGlB;AAHkB,CAIjBC,UAJiB,CAIN,SAAAC,QAAQ,CAAI,CACtB,GAAMC,SAAQ,CAAGD,QAAQ,CAACE,IAAT,CAAcC,GAAd,CAAkB,SAAAC,GAAG,wBACpCC,EAAE,CAAED,GAAG,CAACC,EAD4B,EAEjCD,GAAG,CAACE,IAAJ,EAFiC,GAArB,CAAjB,CAIAX,QAAQ,CAACM,QAAD,CAAR,CACD,CAViB,CAApB,CAWA,MAAO,kBAAML,YAAW,EAAjB,EAAP,CACD,CAdQ,CAcN,CAACH,MAAD,CAdM,CAAT,CAgBA,MAAOC,MAAP,CACD,CAED,GAAMa,UAAS,CAAG,QAAZA,UAAY,CAAAC,KAAK,CAAI,CACzB,eAAwBrB,QAAQ,CAACqB,KAAK,CAACC,WAAP,CAAhC,yCAAOC,IAAP,eAAaC,OAAb,eACA,GAAMjB,MAAK,CAAGF,QAAQ,EAAtB,CAEA,mBACE,eAAO,SAAS,CAAC,sBAAjB,wBACE,cAAO,SAAS,CAAC,YAAjB,uBACE,mCACE,4BADF,cAEE,6BAFF,cAGE,oCAHF,cAIE,8BAJF,cAKE,+BALF,GADF,EADF,cAWE,uBACGgB,KAAK,CAACI,KAAN,CAAYC,MAAZ,CAAqB,CAArB,CACCnB,KAAK,CAACS,GAAN,CAAU,SAAAW,SAAS,qBACjB,KAAC,YAAD,EAEE,SAAS,CAAEA,SAFb,CAGE,KAAK,CAAEN,KAAK,CAACI,KAHf,CAIE,OAAO,CAAEJ,KAAK,CAACO,OAJjB,CAKE,UAAU,CAAEP,KAAK,CAACQ,UALpB,CAME,WAAW,CAAER,KAAK,CAACC,WANrB,CAOE,UAAU,CAAED,KAAK,CAACS,UAPpB,CAQE,OAAO,CAAET,KAAK,CAACU,OARjB,CASE,UAAU,CAAEV,KAAK,CAACW,UATpB,EACOL,SAAS,CAACT,EADjB,CADiB,EAAnB,CADD,cAeC,iCACE,WAAI,OAAO,CAAE,CAAb,sBADF,EAhBJ,EAXF,GADF,CAmCD,CAvCD,CAyCA,cAAeE,UAAf"},"metadata":{},"sourceType":"module"}