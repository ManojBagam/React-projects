{"ast":null,"code":"import _slicedToArray from\"C:/Users/Manoj/empsmanage/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,Fragment}from\"react\";import AddUserForm from\"./forms/AddUserForm\";import EditUserForm from\"./forms/EditUserForm\";import UserTable from\"./tables/UserTable\";import firebase from\"./firebase\";import'./styles.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){// Data\nvar usersData=[{id:null,name:\"\",email:\"\",phonenumber:'',salary:''}];var initialFormState={id:null,name:\"\",email:\"\",phonenumber:'',salary:''};// Setting state\nvar _useState=useState(usersData),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState(initialFormState),_useState4=_slicedToArray(_useState3,2),currentUser=_useState4[0],setCurrentUser=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),editing=_useState6[0],setEditing=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isShown=_useState8[0],setIsShown=_useState8[1];var handleClick=function handleClick(event){// toggle shown state\nsetIsShown(function(current){return!current;});// or simply set it to true\n// setIsShown(true);\n};// CRUD operations\nvar addUser=function addUser(user){firebase.firestore().collection(\"times\").add({name:user.name,email:user.email,phonenumber:user.phonenumber,salary:user.salary}).then(function(){//setTitle(\"\");\n//setTime(\"\");\n});};var deleteUser=function deleteUser(id){setEditing(false);setUsers(users.filter(function(user){return user.id!==id;}));};var updateUser=function updateUser(updatedUser){setEditing(false);firebase.firestore().collection(\"times\").doc(updatedUser.id).set(updatedUser);};var editRow=function editRow(user){setEditing(true);setCurrentUser({id:user.id,name:user.name,email:user.email,phonenumber:user.phonenumber,salary:user.salary});//console.log(\"editRow\", user);\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Empolyee Data management\"}),isShown&&/*#__PURE__*/_jsx(\"div\",{className:\"flex-large\",children:editing?/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edit Empolyee\"}),/*#__PURE__*/_jsx(EditUserForm,{editing:editing,setEditing:setEditing,currentUser:currentUser,updateUser:updateUser})]}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\xA0\\xA0Add Emp\"}),/*#__PURE__*/_jsx(AddUserForm,{addUser:addUser})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-large\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"View Empolyees\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-primary\",id:\"addEmp\",onClick:handleClick,children:\"Add Empolyee\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(UserTable,{users:users,editRow:editRow,deleteUser:deleteUser,editing:editing,setEditing:setEditing,currentUser:currentUser,updateUser:updateUser})]})})]});};export default App;","map":{"version":3,"names":["React","useState","Fragment","AddUserForm","EditUserForm","UserTable","firebase","App","usersData","id","name","email","phonenumber","salary","initialFormState","users","setUsers","currentUser","setCurrentUser","editing","setEditing","isShown","setIsShown","handleClick","event","current","addUser","user","firestore","collection","add","then","deleteUser","filter","updateUser","updatedUser","doc","set","editRow"],"sources":["C:/Users/Manoj/empsmanage/src/App.js"],"sourcesContent":["import React, { useState, Fragment } from \"react\";\nimport AddUserForm from \"./forms/AddUserForm\";\nimport EditUserForm from \"./forms/EditUserForm\";\nimport UserTable from \"./tables/UserTable\";\nimport firebase from \"./firebase\";\nimport './styles.css'\n\nconst App = () => {\n  // Data\n  const usersData = [{ id: null, name: \"\", email: \"\",phonenumber:'',salary:''}];\n  const initialFormState = { id: null, name: \"\", email: \"\",phonenumber:'',salary:''};\n\n  // Setting state\n  const [users, setUsers] = useState(usersData);\n  const [currentUser, setCurrentUser] = useState(initialFormState);\n  const [editing, setEditing] = useState(false);\n  const [isShown, setIsShown] = useState(false);\n\n  const handleClick = event => {\n    // toggle shown state\n    setIsShown(current => !current);\n\n    // or simply set it to true\n    // setIsShown(true);\n  };\n\n  // CRUD operations\n  const addUser = user => {\n    firebase\n      .firestore()\n      .collection(\"times\")\n      .add({\n        name: user.name,\n        email: user.email,\n        phonenumber:user.phonenumber,\n        salary:user.salary\n\n      })\n      .then(() => {\n        //setTitle(\"\");\n        //setTime(\"\");\n      });\n  };\n\n  const deleteUser = id => {\n    setEditing(false);\n\n    setUsers(users.filter(user => user.id !== id));\n  };\n\n  const updateUser = updatedUser => {\n    setEditing(false);\n    firebase\n      .firestore()\n      .collection(\"times\")\n      .doc(updatedUser.id)\n      .set(updatedUser);\n  };\n\n  const editRow = user => {\n    setEditing(true);\n    setCurrentUser({ id: user.id, name: user.name, email: user.email,phonenumber:user.phonenumber,\n      salary:user.salary });\n    //console.log(\"editRow\", user);\n  };\n\n  return (\n    <div className=\"container\">\n      <h1>Empolyee Data management</h1>\n      {isShown && <div className=\"flex-large\">\n          {editing ? (\n            <Fragment>\n              <h2>Edit Empolyee</h2>\n              <EditUserForm\n                editing={editing}\n                setEditing={setEditing}\n                currentUser={currentUser}\n                updateUser={updateUser}\n              />\n            </Fragment>\n          ) : (\n            <Fragment>\n              <h2>&nbsp;&nbsp;Add Emp</h2>\n              <AddUserForm addUser={addUser} />\n            </Fragment>\n          )}\n        </div>}<br/><br/><br/>\n      <div className=\"container\">\n        <div className=\"flex-large\">\n          <h2>View Empolyees</h2>\n          <button type=\"button\" class=\"btn btn-primary\" id ='addEmp' onClick={handleClick}>Add Empolyee</button><br/>\n          <UserTable\n            users={users}\n            editRow={editRow}\n            deleteUser={deleteUser}\n            editing={editing}\n            setEditing={setEditing}\n            currentUser={currentUser}\n            updateUser={updateUser}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}